import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class FileHandling {

    public static void main(String[] args) throws IOException {

        String path = System.getProperty("user.dir")+"\\src\\main\\resources\\file.txt";

        File file = new File(path);
        if (file.exists()) {


            System.out.println(file.toString());
        }

        BufferedReader br = new BufferedReader(new FileReader(path));
        try {
            StringBuilder sb = new StringBuilder();
            String line = br.readLine();

            String REGEX = "a*b";
            Pattern p = Pattern.compile("[^a-z0-9 ]", Pattern.CASE_INSENSITIVE);
            Matcher m = p.matcher(line);
            if(m.find()) {
                System.out.println("Matcher result : "+m.group());
                System.out.println("Matcher result : "+m.groupCount());
            }

            if("MSISDN".equals(line.substring(0, line.indexOf(",")))) {
                System.out.println(line.substring(0, line.indexOf(",")));
                System.out.println(true);
            }

            String[] recordValues = line.split(",");
            if(recordValues.length != 4) {
                System.out.println("Number of parameters are not same as defined in header");
                //continue;
            }
            String parameterValue = line.substring(recordValues[0].length()+1);

            System.out.println(parameterValue);

            while (line != null) {
                sb.append(line);
                sb.append(System.lineSeparator());
                line = br.readLine();
            }
            String everything = sb.toString();
            System.out.println(everything);
        } finally {
            br.close();
        }
    }
}
